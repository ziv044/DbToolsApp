# Story 4.10: Job Creation Wizard

## Status: Draft

## Story

**As a** user,
**I want** a guided interface to create scheduled jobs,
**so that** I can easily set up automation without confusion.

## Acceptance Criteria

| # | Criteria |
|---|----------|
| 1 | Multi-step wizard: Type → Configuration → Schedule → Review |
| 2 | Step 1: Select job type with descriptions |
| 3 | Step 2: Type-specific configuration (policy picker, script editor, etc.) |
| 4 | Step 3: Schedule configuration with visual helpers |
| 5 | Interval: Slider or input for minutes/hours |
| 6 | Cron: Pre-built templates (daily, weekly, monthly) + advanced cron input |
| 7 | Cron helper shows "Runs at: 2:00 AM every day" human-readable preview |
| 8 | Step 4: Review all settings before creation |
| 9 | "Test Run" option to execute immediately after creation |
| 10 | Back/Next navigation between steps |
| 11 | Form state preserved when navigating between steps |

## Tasks / Subtasks

- [ ] Task 1: Create wizard component (AC: 1, 10, 11)
- [ ] Task 2: Create type selection step (AC: 2)
- [ ] Task 3: Create configuration step (AC: 3)
- [ ] Task 4: Create schedule step (AC: 4, 5, 6, 7)
- [ ] Task 5: Create review step (AC: 8, 9)

## Dev Notes

### Cron Templates
```typescript
const CRON_TEMPLATES = [
  { label: 'Every hour', expression: '0 * * * *' },
  { label: 'Daily at 2 AM', expression: '0 2 * * *' },
  { label: 'Weekly on Sunday', expression: '0 0 * * 0' },
  { label: 'Monthly on 1st', expression: '0 0 1 * *' },
];

const describeCron = (expression: string): string => {
  // Use cronstrue library
  return cronstrue.toString(expression);
};
```

### Wizard State
```typescript
const [step, setStep] = useState(1);
const [formData, setFormData] = useState({
  type: '',
  configuration: {},
  schedule_type: 'cron',
  schedule_config: {},
});
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-17 | 0.1 | Initial story creation | PM (John) |

---

## Dev Agent Record

### Agent Model Used
### Debug Log References
### Completion Notes List
### File List

---

## QA Results
