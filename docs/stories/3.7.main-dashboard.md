# Story 3.7: Main Dashboard UI

## Status: Draft

## Story

**As a** user,
**I want** a dashboard showing fleet health at a glance,
**so that** I can quickly identify servers needing attention.

## Acceptance Criteria

| # | Criteria |
|---|----------|
| 1 | Dashboard is the default landing page after tenant selection |
| 2 | Summary cards: Total Servers, Healthy, Warning, Critical, Offline |
| 3 | Cards are clickable - filter server list by that status |
| 4 | Server status grid/list showing all servers with status indicators |
| 5 | Color coding: Green (healthy), Yellow (warning), Red (critical), Gray (offline) |
| 6 | Auto-refresh every 30 seconds (configurable) |
| 7 | Manual refresh button |
| 8 | Group summary section: health breakdown per group |
| 9 | "Last updated" timestamp displayed |
| 10 | Empty state with prompt to add servers if none exist |

## Tasks / Subtasks

- [ ] Task 1: Create Dashboard page (AC: 1, 10)
- [ ] Task 2: Create summary cards (AC: 2, 3)
- [ ] Task 3: Create server status grid (AC: 4, 5)
- [ ] Task 4: Add auto-refresh (AC: 6, 7, 9)
- [ ] Task 5: Create group summary (AC: 8)

## Dev Notes

### Dashboard Hook
```typescript
export function useDashboard() {
  return useQuery({
    queryKey: ['dashboard'],
    queryFn: async () => {
      const health = await apiClient.get('/servers/health');
      return health.data;
    },
    refetchInterval: 30_000,
  });
}
```

### Summary Calculation
```typescript
const summary = useMemo(() => {
  const counts = { total: 0, healthy: 0, warning: 0, critical: 0, offline: 0 };
  servers.forEach(s => {
    counts.total++;
    counts[s.status]++;
  });
  return counts;
}, [servers]);
```

## Testing

- Test dashboard displays summary
- Test auto-refresh
- Test card navigation

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-17 | 0.1 | Initial story creation | PM (John) |

---

## Dev Agent Record

### Agent Model Used
### Debug Log References
### Completion Notes List
### File List

---

## QA Results
